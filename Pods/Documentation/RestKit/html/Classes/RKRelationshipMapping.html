<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>RKRelationshipMapping Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">RestKit 0.20.0pre6 </a></h1>
				<a id="developerHome" href="../index.html">Blake Watters</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">RKRelationshipMapping Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/assignmentPolicy">&nbsp;&nbsp;&nbsp;&nbsp;assignmentPolicy</option>
	
	<option value="//api/name/mapping">&nbsp;&nbsp;&nbsp;&nbsp;mapping</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:">&nbsp;&nbsp;&nbsp;&nbsp;+ relationshipMappingFromKeyPath:toKeyPath:withMapping:</option>
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Creating a Relationship Mapping">Creating a Relationship Mapping</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Accessing the Destination Mapping">Accessing the Destination Mapping</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Configuring the Assignment Policy">Configuring the Assignment Policy</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/assignmentPolicy">assignmentPolicy</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/mapping">mapping</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:">relationshipMappingFromKeyPath:toKeyPath:withMapping:</a></span></li>
	
</ul></li>




			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="RKRelationshipMapping Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">RKRelationshipMapping Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/RKPropertyMapping.html">RKPropertyMapping</a> : NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">RKRelationshipMapping.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <code>RKRelationshipMapping</code> class is used to describe relationships of a class in an <a href="../Classes/RKObjectMapping.html"><code>RKObjectMapping</code></a> or an entity in an <a href="../Classes/RKEntityMapping.html"><code>RKEntityMapping</code></a> object.</p>

<p><code>RKRelationshipMapping</code> extends <a href="../Classes/RKPropertyMapping.html"><code>RKPropertyMapping</code></a> to describe features specific to relationships, including the <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object describing how to map the destination object.</p>

<p>Relationship mappings are described in terms of a source key path, which identifies a key in the parent object representation under which the data for the relationship is nested, and a destination key path, which specifies the key path at which the mapped object is to be assigned on the parent entity. The key-paths of the property mappings of the <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object in the relationship <a href="#//api/name/mapping">mapping</a> are evaluated against the nested object representationship at the source key path.</p>

<h2>Mapping a Non-nested Relationship from the Parent Representation</h2>

<p>It can often be desirable to map data for a relationship directly from the parent object representation, rather than under a nested key path. When a relationship <a href="#//api/name/mapping">mapping</a> is constructed with a <code>nil</code> value for the source key path, then the <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object is evaluated against the parent representation.</p>

<h2>Assignment Policy</h2>

<p>When <a href="#//api/name/mapping">mapping</a> a relationship, the typical desired behavior is to set the destination of the relationship to the newly mapped values from the object representation being processed. There are times in which it is desirable to use different assignment behaviors. The way in which the relationship is assigned can be controlled by the <a href="#//api/name/assignmentPolicy">assignmentPolicy</a> property. There are currently three distinct assignment policies available:</p>

<ol>
<li><code>RKSetAssignmentPolicy</code> &ndash; Instructs the mapper to assign the new destination value to the relationship directly. No further action is taken and the relationship to the old objects is broken. This is the default assignment policy.</li>
<li><code>RKReplaceAssignmentPolicy</code> &ndash; Instructs the mapper to assign the new destination value to the relationship and delete any existing object or objects at the destination. The deletion behavior is contextual based on the type of objects being mapped (i.e. Core Data vs NSObject) and is delegated to the <a href="#//api/name/mapping">mapping</a> operation data source.</li>
<li><code>RKUnionAssignmentPolicy</code> &ndash; Instructs the mapper to build a new value for the relationship by unioning the existing value with the new value and set the combined value to the relationship. The union assignment policy is only appropriate for use with a to-many relationship.</li>
</ol>

					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Creating a Relationship Mapping" name="task_Creating a Relationship Mapping"></a>
						<h3 class="subsubtitle task-title">Creating a Relationship Mapping</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:">+&nbsp;relationshipMappingFromKeyPath:toKeyPath:withMapping:</a></code>
		<span class="tooltip"><p>Creates and returns a new relationship <a href="#//api/name/mapping">mapping</a> object describing how to transform a related object representation at <code>sourceKeyPath</code> to a new representation at <code>destinationKeyPath</code> using the given <a href="#//api/name/mapping">mapping</a>.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Accessing the Destination Mapping" name="task_Accessing the Destination Mapping"></a>
						<h3 class="subsubtitle task-title">Accessing the Destination Mapping</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/mapping">&nbsp;&nbsp;mapping</a></code>
		<span class="tooltip"><p>An <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object describing how to map the object representation at <code>sourceKeyPath</code> to a new represenation at <code>destinationKeyPath</code>.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Configuring the Assignment Policy" name="task_Configuring the Assignment Policy"></a>
						<h3 class="subsubtitle task-title">Configuring the Assignment Policy</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/assignmentPolicy">&nbsp;&nbsp;assignmentPolicy</a></code>
		<span class="tooltip"><p>The assignment policy to use when applying the relationship <a href="#//api/name/mapping">mapping</a>.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/assignmentPolicy" title="assignmentPolicy"></a>
	<h3 class="subsubtitle method-title">assignmentPolicy</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The assignment policy to use when applying the relationship <a href="#//api/name/mapping">mapping</a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) RKAssignmentPolicy assignmentPolicy</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The assignment policy to use when applying the relationship <a href="#//api/name/mapping">mapping</a>.</p>

<p>The assignment policy determines how a relationship is set when there are existing objects at the destination of the relationship. The existing values can be disconnected from the parent and left in the graph (<code>RKSetAssignmentPolicy</code>), deleted and replaced by the new value (<code>RKReplaceAssignmentPolicy</code>), or the new value can be unioned with the existing objects to create a new combined value (<code>RKUnionAssignmentPolicy</code>).</p>

<p><strong>Default</strong>: <code>RKSetAssignmentPolicy</code></p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKRelationshipMapping.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/mapping" title="mapping"></a>
	<h3 class="subsubtitle method-title">mapping</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>An <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object describing how to map the object representation at <code>sourceKeyPath</code> to a new represenation at <code>destinationKeyPath</code>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) RKMapping *mapping</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>An <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object describing how to map the object representation at <code>sourceKeyPath</code> to a new represenation at <code>destinationKeyPath</code>.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKRelationshipMapping.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:" title="relationshipMappingFromKeyPath:toKeyPath:withMapping:"></a>
	<h3 class="subsubtitle method-title">relationshipMappingFromKeyPath:toKeyPath:withMapping:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates and returns a new relationship <a href="#//api/name/mapping">mapping</a> object describing how to transform a related object representation at <code>sourceKeyPath</code> to a new representation at <code>destinationKeyPath</code> using the given <a href="#//api/name/mapping">mapping</a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (instancetype)relationshipMappingFromKeyPath:(NSString *)<em>sourceKeyPath</em> toKeyPath:(NSString *)<em>destinationKeyPath</em> withMapping:(RKMapping *)<em>mapping</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sourceKeyPath</em></dt>
			<dd><p>A key path from which to retrieve data in the source object representation that is to be mapped as a relationship. If <code>nil</code>, then the <a href="#//api/name/mapping">mapping</a> is performed directly against the parent object representation.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>destinationKeyPath</em></dt>
			<dd><p>The key path on the destination object to set the object mapped results.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>mapping</em></dt>
			<dd><p>A <a href="#//api/name/mapping">mapping</a> object describing how to map the data retrieved from <code>sourceKeyPath</code> that is to be set on <code>destinationKeyPath</code>.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates and returns a new relationship <a href="#//api/name/mapping">mapping</a> object describing how to transform a related object representation at <code>sourceKeyPath</code> to a new representation at <code>destinationKeyPath</code> using the given <a href="#//api/name/mapping">mapping</a>.</p>

<p>The <a href="#//api/name/mapping">mapping</a> may describe a to-one or a to-many relationship. The appropriate handling of the source representation is deferred until run-time and is determined by performing reflection on the data retrieved from the source object representation by sending a <code>valueForKeyPath:</code> message where the key path is the value given in <code>sourceKeyPath</code>. If an <code>NSArray</code>, <code>NSSet</code> or <code>NSOrderedSet</code> object is returned, the related object representation is processed as a to-many collection. Otherwise the representation is considered to be a to-one.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKRelationshipMapping.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Blake Watters. All rights reserved. (Last updated: 2013-01-22)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>